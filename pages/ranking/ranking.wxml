<!--pages/ranking/ranking.wxml-->
<view class="ranking-container">
  <!-- æ ‡é¢˜åŒºåŸŸ -->
  <view class="ranking-header">
    <text class="ranking-title">æ€»åˆ†æ’è¡Œæ¦œ</text>
    <view class="session-info">
      <text class="original-info">åŸå§‹åˆ†æ•°</text>
      <text class="multiplier-info">å€ç‡</text>
      <text class="final-info">æœ€ç»ˆåˆ†æ•°</text>
    </view>
  </view>

  <!-- æ’è¡Œæ¦œåˆ—è¡¨ -->
  <view class="ranking-list">
    <block wx:for="{{rankings}}" wx:key="name">
      <view class="ranking-item card {{index < 3 ? 'top-rank' : ''}}">
        <!-- ç©å®¶ä¿¡æ¯ -->
        <view class="player-info">
          <view class="rank-badge {{index === 0 ? 'first' : index === 1 ? 'second' : index === 2 ? 'third' : ''}}">
            <text wx:if="{{index === 0}}" class="rank-icon">ğŸ¥‡</text>
            <text wx:elif="{{index === 1}}" class="rank-icon">ğŸ¥ˆ</text>
            <text wx:elif="{{index === 2}}" class="rank-icon">ğŸ¥‰</text>
            <text wx:else class="rank-number">{{index + 1}}</text>
          </view>
          
          <view class="player-avatar {{item.name === 'å°' ? 'tai-avatar' : ''}}" style="background-color: {{item.color}}">
            <text class="avatar-text">{{item.avatar}}</text>
          </view>
          
          <text class="player-name">{{item.name}}</text>
        </view>

        <!-- åˆ†æ•°ä¿¡æ¯ -->
        <view class="score-info">
          <text class="original-score {{item.originalScore >= 0 ? 'positive' : 'negative'}}">
            {{item.originalScore >= 0 ? '+' : ''}}{{item.originalScore}}
          </text>
          <text class="multiplier-value">Ã—{{item.multiplier}}</text>
          <text class="final-score {{item.finalScore >= 0 ? 'positive' : 'negative'}}">
            {{item.finalScore >= 0 ? '+' : ''}}{{item.finalScore}}
          </text>
        </view>
      </view>
    </block>
  </view>

  <!-- åˆ†äº«æŒ‰é’® -->
  <view class="share-section">
    <button class="share-btn" bindtap="shareRanking">
      <text class="share-text">åˆ†äº«æ’è¡Œæ¦œ</text>
    </button>
  </view>
</view>
