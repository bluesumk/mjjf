<!-- æ‰«ç åŠ å…¥ç‰Œå±€é¡µé¢ -->
<view class="container join-container">
  
  <!-- åŠ è½½ä¸­ -->
  <view wx:if="{{loading}}" class="loading-section">
    <view class="loading-spinner"></view>
    <text class="loading-text">æ­£åœ¨åŠ è½½ç‰Œå±€ä¿¡æ¯...</text>
  </view>

  <!-- é”™è¯¯æç¤º -->
  <view wx:elif="{{error}}" class="error-section">
    <view class="error-icon">âŒ</view>
    <text class="error-title">æ— æ³•åŠ å…¥ç‰Œå±€</text>
    <text class="error-message">{{error}}</text>
    <view class="error-actions">
      <button type="default" size="default" bindtap="reload">é‡æ–°å°è¯•</button>
      <button type="primary" size="default" bindtap="goHome">è¿”å›é¦–é¡µ</button>
    </view>
  </view>

  <!-- æˆåŠŸåŠ è½½ç‰Œå±€ä¿¡æ¯ -->
  <view wx:else class="session-info-section">
    
    <!-- ç‰Œå±€æ ‡é¢˜ -->
    <view class="session-header">
      <view class="session-icon">ğŸ€„ï¸</view>
      <text class="session-title">é‚€è¯·æ‚¨åŠ å…¥éº»å°†è®¡åˆ†</text>
    </view>

    <!-- ç‰Œå±€ä¿¡æ¯ -->
    <view class="session-details">
      <view class="detail-item">
        <text class="detail-label">å°æ¿è®¾ç½®ï¼š</text>
        <text class="detail-value">{{session.taiSwitch ? 'å·²å¼€å¯' : 'å·²å…³é—­'}}</text>
      </view>
      
      <view class="detail-item">
        <text class="detail-label">åˆ›å»ºæ—¶é—´ï¼š</text>
        <text class="detail-value">{{session.createdAt}}</text>
      </view>
      
      <view class="detail-item">
        <text class="detail-label">ç‰Œå±€çŠ¶æ€ï¼š</text>
        <text class="detail-value status-{{session.status}}">
          {{session.status === 'ongoing' ? 'è¿›è¡Œä¸­' : 'ç­‰å¾…å¼€å§‹'}}
        </text>
      </view>
    </view>

    <!-- å‚ä¸è€…åˆ—è¡¨ -->
    <view class="participants-section">
      <text class="participants-title">å½“å‰å‚ä¸è€… ({{session.participants.length}}äºº)</text>
      <view class="participants-list">
        <view wx:for="{{session.participants}}" wx:key="index" class="participant-item">
          <view class="participant-avatar">
            <text class="avatar-text">{{item.charAt(0)}}</text>
          </view>
          <text class="participant-name">{{item}}</text>
        </view>
      </view>
    </view>

    <!-- åŠ å…¥æŒ‰é’® -->
    <view class="join-actions">
      <button 
        type="primary" 
        size="default" 
        class="join-btn"
        bindtap="joinSession" 
        loading="{{joining}}"
        disabled="{{joining}}"
      >
        {{joining ? 'åŠ å…¥ä¸­...' : 'åŠ å…¥ç‰Œå±€'}}
      </button>
      
      <button type="default" size="default" class="cancel-btn" bindtap="goHome">
        å–æ¶ˆ
      </button>
    </view>

  </view>

</view>

